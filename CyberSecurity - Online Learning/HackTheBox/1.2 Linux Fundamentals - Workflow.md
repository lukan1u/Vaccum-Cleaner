---
Date: 2023-10-15T21:40:00
Summary:
---
# Working with files and directories
---
#HTB #linux
Table of contents >>> [[Hack The Box]]
Previous page >>> [[[1.1 Linux Fundamentals - Introduction]]]
Next Page >>>

## Copy move and create
---
We can use `touch` to create an empty file and `mkdir` to create a directory.

**Go to home directory**:
```shell-session
lukan1u@htb[/htb]$ cd ~
```
**Create**:
```shell-session
lukan1u@htb[/htb]$ touch <name>
```
**Make new repository**:
```shell-session
lukan1u@htb[/htb]$ mkdir <name>
```
**Add folder to new directory**:
```shell-session
mkdir -p Storage/local/user/documents
```
**Rename/Move  file/directory (they share command)**
```shell-session
lukan1u@htb[/htb]$ mv <file/directory> <renamed file/directory>
```
```shell-session
lukan1u@htb[/htb]$ mv information.txt readme.txt Storage/
```
**Copy:**
```shell-session
lukan1u@htb[/htb]$ cp Storage/readme.txt Storage/local/
```

# Editing files
---
One of the most common text editors for this is `Vi` and `Vim` there is also a `nano`
**To learn about vim:**
```shell-session
lukan1u@htb[/htb]$ vimtutor
```

**View contents of the file:**
```shell-session
lukan1u@htb[/htb]$ cat notes.txt
```
## Find files and directories
---
**which:**
One of the common tools is `which`. This tool returns the path to the file or link that should be executed. This allows us to **determine if specific programs** like python, gcc, **are available on the operating system.**
```shell-session
lukan1u@htb[/htb]$ which python
```
**find**:
Another handy tool is `find`. Besides the function to find files and folders, this tool also contains the function to filter the results
```shell-session
lukan1u@htb[/htb]$ find <location> <options>
```

| Option                | Description                                                                                                                                                                                                                                                                               |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `-type f`             | Hereby, we define the type of the searched object. In this case, '`f`' stands for '`file`'.                                                                                                                                                                                    |
| `-name *.conf`        | With '`-name`', we indicate the name of the file we are looking for. The asterisk (`*`) stands for 'all' files with the '`.conf`' extension.                                                                                                                                   |
| `-user root`          | This option filters all files whose owner is the root user.                                                                                                                                                                                                                    |
| `-size +20k`          | We can then filter all the located files and specify that we only want to see the files that are larger than 20 KiB.                                                                                                                                                           |
| `-newermt 2020-03-03` | With this option, we set the date. Only files newer than the specified date will be presented.                                                                                                                                                                                 |
| `-exec ls -al {} \;`  | This option executes the specified command, using the curly brackets as placeholders for each result. The backslash escapes the next character from being interpreted by the shell because otherwise, the semicolon would terminate the command and not reach the redirection. |
| `2>/dev/null`         | This is a `STDERR` redirection to the '`null device`', which we will come back to in the next section. This redirection ensures that no errors are displayed in the terminal. This redirection must `not` be an option of the 'find' command.                                  |

**Locate**:
It will take too much time to search through whole system. Locate uses a local database that contains all information about existing files and folders. The database can be updates using command like this:
```shell-session
lukan1u@htb[/htb]$ sudo updatedb
```
For example if we wanted to locate all file with `.conf` extension we would run command like this:
```shell-session
lukan1u@htb[/htb]$ locate *.conf
```
However, this tool does not have as many filter options that we can use. So it is always worth considering whether we can use the `locate` command or instead use the `find` command. It always depends on what we are looking for.

## File descriptors and redirections
---
